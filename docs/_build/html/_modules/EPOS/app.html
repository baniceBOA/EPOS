<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.07.26 -->
        <title>EPOS.app - ELECTRONIC POINT OF SALE 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">ELECTRONIC POINT OF SALE 0.0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">ELECTRONIC POINT OF SALE 0.0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  
</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <h1>Source code for EPOS.app</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39; This is a simple electronic point of sale application &#39;&#39;&#39;</span>


<span class="kn">from</span> <span class="nn">.model</span> <span class="kn">import</span> <span class="n">Items</span><span class="p">,</span> <span class="n">session</span>
<span class="kn">from</span> <span class="nn">kivymd.app</span> <span class="kn">import</span> <span class="n">MDApp</span><span class="p">,</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.boxlayout</span> <span class="kn">import</span> <span class="n">MDBoxLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.boxlayout</span> <span class="kn">import</span> <span class="n">BoxLayout</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.floatlayout</span> <span class="kn">import</span> <span class="n">MDFloatLayout</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.relativelayout</span> <span class="kn">import</span> <span class="n">MDRelativeLayout</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.label</span> <span class="kn">import</span> <span class="n">MDLabel</span><span class="p">,</span> <span class="n">MDIcon</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.button</span> <span class="kn">import</span> <span class="n">MDFlatButton</span><span class="p">,</span> <span class="n">MDFloatingActionButton</span><span class="p">,</span> <span class="n">MDIconButton</span><span class="p">,</span> <span class="n">MDRaisedButton</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.textfield</span> <span class="kn">import</span> <span class="n">MDTextField</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.datatables</span> <span class="kn">import</span> <span class="n">MDDataTable</span> 
<span class="kn">from</span> <span class="nn">kivy.uix.behaviors</span> <span class="kn">import</span> <span class="n">ButtonBehavior</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.list</span> <span class="kn">import</span> <span class="n">OneLineIconListItem</span><span class="p">,</span> <span class="n">OneLineAvatarIconListItem</span><span class="p">,</span> <span class="n">TwoLineAvatarIconListItem</span><span class="p">,</span> <span class="n">ThreeLineListItem</span><span class="p">,</span> <span class="n">ThreeLineAvatarIconListItem</span><span class="p">,</span> <span class="n">IconLeftWidget</span><span class="p">,</span> <span class="n">IconRightWidget</span><span class="p">,</span> <span class="n">TwoLineAvatarListItem</span><span class="p">,</span> <span class="n">IRightBodyTouch</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.scrollview</span> <span class="kn">import</span> <span class="n">MDScrollView</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.menu</span> <span class="kn">import</span> <span class="n">MDDropdownMenu</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.card</span> <span class="kn">import</span> <span class="n">MDCard</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.dialog</span> <span class="kn">import</span> <span class="n">MDDialog</span>
<span class="kn">from</span> <span class="nn">kivymd.utils.fitimage</span> <span class="kn">import</span> <span class="n">FitImage</span>
<span class="kn">from</span> <span class="nn">kivymd.toast</span> <span class="kn">import</span> <span class="n">toast</span>
<span class="kn">from</span> <span class="nn">kivy.uix.camera</span> <span class="kn">import</span> <span class="n">Camera</span>
<span class="kn">from</span> <span class="nn">kivy.properties</span> <span class="kn">import</span> <span class="n">StringProperty</span><span class="p">,</span> <span class="n">NumericProperty</span><span class="p">,</span> <span class="n">BooleanProperty</span><span class="p">,</span> <span class="n">ObjectProperty</span><span class="p">,</span> <span class="n">ListProperty</span>
<span class="kn">from</span> <span class="nn">kivy.lang</span> <span class="kn">import</span> <span class="n">Builder</span>
<span class="kn">from</span> <span class="nn">kivy.metrics</span> <span class="kn">import</span> <span class="n">dp</span>
<span class="kn">from</span> <span class="nn">kivy.utils</span> <span class="kn">import</span> <span class="n">get_hex_from_color</span>
<span class="kn">from</span> <span class="nn">kivy.core.window</span> <span class="kn">import</span> <span class="n">Window</span>
<span class="kn">from</span> <span class="nn">kivy.core.text</span> <span class="kn">import</span> <span class="n">LabelBase</span>
<span class="kn">from</span> <span class="nn">kivymd.uix.snackbar</span> <span class="kn">import</span> <span class="n">BaseSnackbar</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">digits</span>
<span class="kn">from</span> <span class="nn">kivy.uix.anchorlayout</span> <span class="kn">import</span> <span class="n">AnchorLayout</span>
<span class="kn">from</span> <span class="nn">kivy.clock</span> <span class="kn">import</span> <span class="n">Clock</span><span class="p">,</span> <span class="n">mainthread</span>
<span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span>
<span class="kn">from</span> <span class="nn">kivymd_extensions</span> <span class="kn">import</span> <span class="n">akivymd</span>
<span class="kn">from</span> <span class="nn">kivymd_extensions.akivymd.uix.dialogs</span> <span class="kn">import</span> <span class="n">AKAlertDialog</span>
<span class="kn">from</span> <span class="nn">kivy.storage.jsonstore</span> <span class="kn">import</span> <span class="n">JsonStore</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">LoginUser</span><span class="p">,</span> <span class="n">check_user_exist</span>

<span class="n">assets</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="s1">&#39;assets&#39;</span><span class="p">)</span>
<span class="n">face_path_png</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">assets</span><span class="p">,</span> <span class="s1">&#39;face.png&#39;</span><span class="p">)</span>
<span class="n">kv</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">#:import Window kivy.core.window.Window</span>

<span class="s1">&lt;IconListItem&gt;:</span>
<span class="s1">	text: root.text</span>
<span class="s1">	IconLeftWidget:</span>
<span class="s1">		icon:root.icon</span>

<span class="s1">&lt;AvatarListItem&gt;:</span>
<span class="s1">	text:root.text</span>
<span class="s1">	IconLeftWidget:</span>
<span class="s1">		icon:root.icon_left</span>
<span class="s1">	IconRightWidget:</span>
<span class="s1">		theme_icon_color:&quot;Custom&quot;</span>
<span class="s1">		icon_color:&#39;red&#39;</span>
<span class="s1">		icon:root.icon_right</span>
<span class="s1">&lt;Notification&gt;</span>
<span class="s1">    padding: dp(10)</span>

<span class="s1">    MDLabel:</span>
<span class="s1">        text:root.text</span>
<span class="s1">        theme_text_color: &quot;Secondary&quot;</span>
<span class="s1">        halign: &quot;left&quot;</span>

<span class="s1">    MDIconButton:</span>
<span class="s1">        id: button</span>
<span class="s1">        icon: &quot;close&quot;</span>
<span class="s1">        halign: &quot;right&quot;</span>
<span class="s1">        valign: &quot;center&quot;</span>
<span class="s1">&lt;ErrorDialog&gt;:</span>
<span class="s1">    orientation: &quot;vertical&quot;</span>
<span class="s1">    spacing: dp(10)</span>
<span class="s1">    padding: dp(20)</span>

<span class="s1">    MDLabel:</span>
<span class="s1">        text: root.title</span>
<span class="s1">        halign: &quot;center&quot;</span>
<span class="s1">        theme_text_color: &quot;Custom&quot;</span>
<span class="s1">        text_color: .9, 0, 0, 1</span>

<span class="s1">    MDLabel:</span>
<span class="s1">        text: root.message</span>
<span class="s1">        halign: &quot;center&quot;</span>
<span class="s1">        theme_text_color: &quot;Custom&quot;</span>
<span class="s1">        text_color: .9, 0, 0, 1</span>
<span class="s1">        font_style: &quot;Caption&quot;</span>

<span class="s1">    MDFillRoundFlatButton:</span>
<span class="s1">        id: button</span>
<span class="s1">        text: &quot;Dismiss&quot;</span>
<span class="s1">        md_bg_color: .9, 0, 0, 1</span>
<span class="s1">        pos_hint: {&quot;center_x&quot;: .5}</span>
<span class="s1">&lt;CardContainer&gt;:</span>
<span class="s1">	md_bg_color:app.theme_cls.primary_dark</span>
<span class="s1">	pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">	orientation:&#39;vertical&#39;</span>
<span class="s1">	size_hint_y:None</span>
<span class="s1">	height:self.minimum_height</span>
<span class="s1">	size_hint_x:None</span>
<span class="s1">	width:dp(150)*root.scale</span>
<span class="s1">	radius:[int(25*root.scale/4)]</span>
<span class="s1">	FitImage:</span>
<span class="s1">		source:root.source</span>
<span class="s1">		size_hint_x:None</span>
<span class="s1">		size_hint_y:None</span>
<span class="s1">		width:dp(150)*root.scale</span>
<span class="s1">		height:dp(100)*root.scale</span>
<span class="s1">		radius:[int(25*root.scale/4), int(25*root.scale/4), 0, 0]</span>
<span class="s1">	</span>
<span class="s1">	MDLabel:</span>
<span class="s1">		font_name:&#39;BPoppins&#39;</span>
<span class="s1">		font_size:&#39;25dp&#39;</span>
<span class="s1">		size_hint_y:None</span>
<span class="s1">		height:self.texture_size[1]</span>
<span class="s1">		text:root.text</span>
<span class="s1">		halign:&#39;center&#39;</span>
<span class="s1">		</span>
<span class="s1">		</span>
<span class="s1">	MDLabel:</span>
<span class="s1">		font_name:&#39;IPoppins&#39;</span>
<span class="s1">		font_size:&#39;15dp&#39;</span>
<span class="s1">		size_hint_y:None</span>
<span class="s1">		height:self.texture_size[1]</span>
<span class="s1">		text:root.secondary_text</span>
<span class="s1">		halign:&#39;center&#39;</span>

<span class="s1">&lt;LoginView&gt;:</span>
<span class="s1">	username:username</span>
<span class="s1">	password:password</span>
<span class="s1">	padding:[dp(8), dp(8), dp(8), dp(25)]</span>
<span class="s1">    spacing:dp(25)</span>
<span class="s1">    radius:dp(25)</span>
<span class="s1">    md_bg_color:[1, 1, 1, 1]</span>
<span class="s1">	MDBoxLayout:</span>
<span class="s1">		orientation:&#39;vertical&#39;</span>
<span class="s1">		FitImage:</span>
<span class="s1">			source:&#39;assets/face.png&#39;</span>
<span class="s1">			radius:[dp(100), dp(100), dp(100), dp(100)]</span>
<span class="s1">			size_hint:(None, None)</span>
<span class="s1">			size:(dp(200), dp(200))</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5}</span>

<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(20)	</span>
<span class="s1">		MDLabel:</span>
<span class="s1">			text:root.error_text</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			font_size:dp(3)</span>
<span class="s1">			font_style:&#39;H2&#39;</span>
<span class="s1">			height:dp(5)</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5}</span>
<span class="s1">		MDTextField:</span>
<span class="s1">			id:username</span>
<span class="s1">			hint_text:&#39;username&#39;</span>
<span class="s1">			helper_text_mode:&#39;on_error&#39;</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5}</span>
<span class="s1">			mode:&#39;round&#39;</span>
<span class="s1">			padding:[0, 0, 0, dp(25)]</span>
<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(40)</span>
<span class="s1">		MDTextField:</span>
<span class="s1">			id:password</span>
<span class="s1">			helper_text_mode:&#39;on_error&#39;</span>
<span class="s1">			mode:&#39;round&#39;</span>
<span class="s1">			hint_text:&#39;password&#39;</span>
<span class="s1">			icon_right:&#39;eye&#39;</span>
<span class="s1">			password:True</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5}</span>
<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(20)</span>
<span class="s1">		MDFillRoundFlatButton:</span>
<span class="s1">			text:&#39;login&#39;</span>
<span class="s1">			on_release:app.login(username.text, password.text)</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5}</span>
<span class="s1">		Widget:</span>
<span class="s1">&lt;SignUpUser&gt;:</span>
<span class="s1">	username:signup_username</span>
<span class="s1">	password:signup_password</span>
<span class="s1">	repeat_password:repeat_password</span>
<span class="s1">	email:signup_email</span>

<span class="s1">	spacing:dp(25)</span>
<span class="s1">	MDBoxLayout:</span>
<span class="s1">		orientation:&#39;vertical&#39;</span>
<span class="s1">		size_hint:(None, None)</span>
<span class="s1">		width:Window.size[0]</span>
<span class="s1">		height:Window.size[1]*0.75</span>
<span class="s1">		pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDLabel:</span>
<span class="s1">			text:&#39;SIGN UP&#39;</span>
<span class="s1">			font_size:dp(5)</span>
<span class="s1">			font_style:&#39;H5&#39;</span>
<span class="s1">			halign:&#39;center&#39;</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDTextField:</span>
<span class="s1">			id:signup_username</span>
<span class="s1">			mode:&#39;round&#39;</span>
<span class="s1">			required:True</span>
<span class="s1">			hint_text:&#39;username&#39;</span>
<span class="s1">			on_text:root.check_username()</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.40</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>

<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(40)</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDTextField:</span>
<span class="s1">			id:signup_email</span>
<span class="s1">			mode:&#39;round&#39;</span>
<span class="s1">			required:True</span>
<span class="s1">			hint_text:&#39;email&#39;</span>
<span class="s1">			validator:&#39;email&#39;</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.40</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(40)</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDTextField:</span>
<span class="s1">			id:signup_password</span>
<span class="s1">			mode:&#39;round&#39;</span>
<span class="s1">			required:True</span>
<span class="s1">			hint_text:&#39;password&#39;</span>
<span class="s1">			on_text:root.password_strength()</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.40</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(40)</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDTextField:</span>
<span class="s1">			id:repeat_password</span>
<span class="s1">			mode:&#39;round&#39;</span>
<span class="s1">			required:True</span>
<span class="s1">			hint_text:&#39;repeat password&#39;</span>
<span class="s1">			on_text:root.compare_password()</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.40</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDSeparator:</span>
<span class="s1">			md_bg_color:[0, 0, 0, 0]</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:dp(40)</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>
<span class="s1">		MDFillRoundFlatButton:</span>
<span class="s1">			id:signup_btn</span>
<span class="s1">			text:&#39;sign up&#39;</span>
<span class="s1">			on_release:root.signup()</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.40</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.5, &#39;center_y&#39;:0.5}</span>

<span class="s1">&lt;UserEdit&gt;:</span>
<span class="s1">	adaptive_height:True</span>
<span class="s1">	orientation:&#39;vertical&#39;</span>
<span class="s1">	username_id:username_id</span>
<span class="s1">	password_id:password_id</span>
<span class="s1">	email_id:email_id</span>
<span class="s1">	MDTextField:</span>
<span class="s1">		id:username_id</span>
<span class="s1">		text:root.username</span>
<span class="s1">	MDTextField:</span>
<span class="s1">		id:password_id</span>
<span class="s1">		text:root.password</span>
<span class="s1">	MDTextField:</span>
<span class="s1">		id:email_id</span>
<span class="s1">		text:root.email</span>
<span class="s1">&lt;MyAKOnboardingItem@AKOnboardingItem&gt;</span>
<span class="s1">    source: &quot;&quot;</span>
<span class="s1">    text: &quot;&quot;</span>
<span class="s1">    title: &quot;&quot;</span>

<span class="s1">    MDFloatLayout:</span>

<span class="s1">        Image:</span>
<span class="s1">            source: root.source</span>
<span class="s1">            pos_hint: {&quot;center_x&quot;: .5, &quot;y&quot;: .6}</span>
<span class="s1">            size_hint: .4, .3</span>

<span class="s1">        MDBoxLayout:</span>
<span class="s1">            orientation: &quot;vertical&quot;</span>
<span class="s1">            padding: dp(10)</span>
<span class="s1">            adaptive_height: True</span>
<span class="s1">            pos_hint: {&quot;center_x&quot;: .5, &quot;top&quot;: .5}</span>
<span class="s1">            spacing: dp(20)</span>
<span class="s1">            size_hint_x: .7</span>

<span class="s1">            canvas.before:</span>
<span class="s1">                Color:</span>
<span class="s1">                    rgba: app.theme_cls.primary_dark</span>
<span class="s1">                RoundedRectangle:</span>
<span class="s1">                    pos: self.pos</span>
<span class="s1">                    size: self.size</span>

<span class="s1">            MDLabel:</span>
<span class="s1">                text: root.title</span>
<span class="s1">                bold: True</span>
<span class="s1">                size_hint_y: None</span>
<span class="s1">                height: self.texture_size[1]</span>
<span class="s1">                theme_text_color: &quot;Primary&quot;</span>
<span class="s1">                font_style: &quot;H6&quot;</span>
<span class="s1">                halign: &quot;center&quot;</span>
<span class="s1">                valign: &quot;center&quot;</span>

<span class="s1">            MDLabel:</span>
<span class="s1">                size_hint_y: None</span>
<span class="s1">                height: self.texture_size[1]</span>
<span class="s1">                theme_text_color: &quot;Primary&quot;</span>
<span class="s1">                font_style: &quot;Body1&quot;</span>
<span class="s1">                halign: &quot;center&quot;</span>
<span class="s1">                valign: &quot;center&quot;</span>
<span class="s1">                text: root.text		</span>

<span class="s1">&lt;Sales&gt;:</span>
<span class="s1">&lt;RightLabel&gt;:</span>
<span class="s1">&lt;TwoLineAvatar&gt;:</span>

<span class="s1">	ImageLeftWidget:</span>
<span class="s1">		source:root.source</span>
<span class="s1">		radius:[15]</span>
<span class="s1">	RightLabel:</span>
<span class="s1">		MDLabel:</span>
<span class="s1">			font_name:&#39;TIPoppins&#39;</span>
<span class="s1">			font_size:&#39;12dp&#39;</span>
<span class="s1">			text:root.timestamp</span>

<span class="s1">&lt;CartItem&gt;:</span>
<span class="s1">	cart_button_icon:cart_button_icon</span>
<span class="s1">	ImageLeftWidget:</span>
<span class="s1">		source:root.source</span>
<span class="s1">	IconRightWidget:</span>
<span class="s1">		id:cart_button_icon</span>


<span class="s1">&lt;ClickableTextFieldRound&gt;:</span>
<span class="s1">	size_hint_y: None</span>
<span class="s1">	height: text_field.height</span>
<span class="s1">	MDTextField:</span>
<span class="s1">		id: text_field</span>
<span class="s1">		hint_text: root.hint_text</span>
<span class="s1">		helper_text:root.helper_text</span>
<span class="s1">		helper_text_mode:root.helper_text_mode</span>
<span class="s1">		text: root.text</span>
<span class="s1">		password: True</span>
<span class="s1">		mode:&#39;round&#39;</span>
<span class="s1">		icon_left: root.text_field_icon</span>
<span class="s1">		</span>
<span class="s1">	MDIconButton:</span>
<span class="s1">		id:password_field_clickable</span>
<span class="s1">		icon: root.icon</span>
<span class="s1">		pos_hint: {&quot;center_y&quot;: .5}</span>
<span class="s1">		pos: text_field.width - self.width + dp(8), 0</span>
<span class="s1">		theme_text_color: &quot;Hint&quot;</span>
<span class="s1">		</span>
<span class="s1">		 </span>

<span class="s1">&lt;CustomSnackbar&gt;</span>
<span class="s1">	MDIconButton:</span>
<span class="s1">		pos_hint: {&#39;center_y&#39;: .5}</span>
<span class="s1">		icon: root.icon</span>
<span class="s1">		opposite_colors: True</span>
<span class="s1">	MDLabel:</span>
<span class="s1">		id: text_bar</span>
<span class="s1">		markup:True</span>
<span class="s1">		size_hint_y: None</span>
<span class="s1">		height: self.texture_size[1]</span>
<span class="s1">		text: root.text</span>
<span class="s1">		font_size: root.font_size</span>
<span class="s1">		theme_text_color: &#39;Custom&#39;</span>
<span class="s1">		text_color: get_color_from_hex(&#39;ffffff&#39;)</span>
<span class="s1">		shorten: True</span>
<span class="s1">		shorten_from: &#39;right&#39;</span>
<span class="s1">		pos_hint: {&#39;center_y&#39;: .5}</span>

<span class="s1">&lt;Invetory&gt;:</span>
<span class="s1">	orientation:&#39;vertical&#39;</span>
<span class="s1">	datatable:datatable</span>
<span class="s1">	MDToolbar:</span>
<span class="s1">		title:&#39;INVETORY&#39;</span>
<span class="s1">	MDRelativeLayout:</span>
<span class="s1">		MDIconButton:</span>
<span class="s1">			icon:&#39;trash-can&#39;</span>
<span class="s1">			text_color:[1,0.2,0.5,1]</span>
<span class="s1">			theme_text_color:&#39;Custom&#39;</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.9, &#39;center_y&#39;:0.9}</span>
<span class="s1">		MDIconButton:</span>
<span class="s1">			icon:&#39;lead-pencil&#39;</span>
<span class="s1">			text_color:[0,1,0,1]</span>
<span class="s1">			theme_text_color:&#39;Custom&#39;</span>
<span class="s1">			pos_hint:{&#39;center_x&#39;:0.8, &#39;center_y&#39;:0.9}</span>
<span class="s1">	MDBoxLayout:</span>
<span class="s1">		id:datatable</span>

<span class="s1">&lt;ViewItems&gt;:</span>
<span class="s1">	orientation:&#39;vertical&#39;</span>
<span class="s1">	MDTopAppBar:</span>
<span class="s1">		left_action_items:[[&#39;arrow-left&#39;, lambda x:app.return_home()]]</span>
<span class="s1">		right_action_items:[[&#39;refresh&#39;, lambda x:root.get_items()]]</span>
<span class="s1">	MDScrollView:</span>
<span class="s1">		pos_hint:{&#39;top&#39;:0.8}</span>
<span class="s1">		MDList:</span>
<span class="s1">			id:items_list</span>
<span class="s1">			IconListItem</span>
<span class="s1">				icon:&#39;bag-carry-on&#39;</span>
<span class="s1">				text:&#39;items&#39;</span>
<span class="s1">	MDFloatingActionButton:</span>
<span class="s1">		icon:&#39;plus&#39;</span>
<span class="s1">		pos_hint:{&#39;center_x&#39;:0.9, &#39;center_y&#39;:0.89}</span>
<span class="s1">		on_release:root.add_item()</span>

<span class="s1">&lt;AddImage&gt;:</span>
<span class="s1">	orientation:&#39;vertical&#39;</span>
<span class="s1">	size_hint:(None, None)</span>
<span class="s1">	MDIconButton:</span>
<span class="s1">		id: add_image_btn_id</span>
<span class="s1">		icon:&#39;plus&#39;</span>
<span class="s1">	</span>
<span class="s1">&lt;AdminDashBoard&gt;:</span>
<span class="s1">	screen_manager:sm</span>
<span class="s1">	MDTopAppBar:</span>
<span class="s1">		title:&#39;ADMIN DASHBOARD&#39;</span>
<span class="s1">		left_action_items:[[&#39;arrow-left&#39;, lambda X:app.return_home()]]</span>
<span class="s1">		pos_hint:{&#39;top&#39;:1}</span>

<span class="s1">	MDGridLayout:</span>
<span class="s1">		cols:3</span>
<span class="s1">		size_hint_y:None</span>
<span class="s1">		height:Window.size[1]*.80</span>
<span class="s1">        padding:[dp(8),dp(8),dp(8),dp(20)]</span>
<span class="s1">        spacing:dp(5)</span>
<span class="s1">        pos_hint:{&#39;top&#39;:0.9}</span>

<span class="s1">		ElementCard:</span>
<span class="s1">			orientation:&#39;vertical&#39;</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width: Window.size[0]*0.10</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:Window.size[1]*0.80</span>

<span class="s1">			MDIconButton:</span>
<span class="s1">				icon:&#39;face-man&#39;</span>
<span class="s1">			</span>
<span class="s1">				on_release:sm.current = &#39;admin_screen&#39;</span>

<span class="s1">			MDIconButton:</span>
<span class="s1">				icon:&#39;face-man-profile&#39;</span>
<span class="s1">				</span>
<span class="s1">				on_release:sm.current = &#39;user_screen&#39;</span>
<span class="s1">			MDIconButton:</span>
<span class="s1">				icon:&#39;bag-carry-on&#39;</span>
<span class="s1">				</span>
<span class="s1">				on_release:sm.current= &#39;items&#39;</span>

<span class="s1">			MDIconButton:</span>
<span class="s1">				icon:&#39;bitcoin&#39;</span>
<span class="s1">			</span>
<span class="s1">				on_release:sm.current= &#39;sales_screen&#39;</span>
<span class="s1">			MDIconButton:</span>
<span class="s1">				icon:&#39;graphql&#39;</span>
<span class="s1">				</span>
<span class="s1">				on_release:sm.current = &#39;statistics_screen&#39;</span>
<span class="s1">			MDIconButton:</span>
<span class="s1">				icon:&#39;/assets/face.png&#39;</span>
<span class="s1">				on_release:sm.current = &#39;signupuser_screen&#39;</span>
<span class="s1">			Widget:</span>

<span class="s1">		ElementCard:</span>
<span class="s1">			orientation:&#39;vertical&#39;</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.60</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:Window.size[1]*0.80</span>
<span class="s1">			MDScreenManager:</span>
<span class="s1">				id:sm</span>
<span class="s1">				MDScreen:</span>
<span class="s1">					name:&#39;admin_screen&#39;</span>
<span class="s1">					on_enter:root.launch_admin()</span>
<span class="s1">					MDScrollView:</span>
<span class="s1">						MDBoxLayout:</span>
<span class="s1">							orientation:&#39;vertical&#39;</span>
<span class="s1">							adaptive_height:True</span>
<span class="s1">							spacing:&#39;5sp&#39;</span>

<span class="s1">							MDBoxLayout:</span>
<span class="s1">								md_bg_color:app.theme_cls.primary_light</span>
<span class="s1">								orientation:&#39;vertical&#39;</span>
<span class="s1">								adaptive_height:True</span>
<span class="s1">								MDLabel:</span>
<span class="s1">									text:&#39;TOP SALES&#39;</span>
<span class="s1">									font_name:&#39;BPoppins&#39;</span>
<span class="s1">									font_size:&#39;30sp&#39;</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:self.texture_size[1]</span>
<span class="s1">								MDScrollView:</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:dp(230)</span>
<span class="s1">									do_scroll_x:True</span>
<span class="s1">									MDBoxLayout:</span>
<span class="s1">										orientation:&#39;horizontal&#39;</span>
<span class="s1">										spacing:&#39;6sp&#39;</span>
<span class="s1">										adaptive_width:True</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>



<span class="s1">							MDBoxLayout:</span>
<span class="s1">								md_bg_color:app.theme_cls.primary_light</span>
<span class="s1">								orientation:&#39;vertical&#39;</span>
<span class="s1">								adaptive_height:True</span>
<span class="s1">								MDLabel:</span>
<span class="s1">									text:&#39;TOP SALES&#39;</span>
<span class="s1">									font_name:&#39;BPoppins&#39;</span>
<span class="s1">									font_size:&#39;30sp&#39;</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:self.texture_size[1]</span>
<span class="s1">								MDScrollView:</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:dp(230)</span>
<span class="s1">									do_scroll_x:True</span>
<span class="s1">									MDBoxLayout:</span>
<span class="s1">										orientation:&#39;horizontal&#39;</span>
<span class="s1">										spacing:&#39;6sp&#39;</span>
<span class="s1">										adaptive_width:True</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>

<span class="s1">							MDBoxLayout:</span>
<span class="s1">								md_bg_color:app.theme_cls.primary_light</span>
<span class="s1">								orientation:&#39;vertical&#39;</span>
<span class="s1">								adaptive_height:True</span>
<span class="s1">								MDLabel:</span>
<span class="s1">									text:&#39;TOP SALES&#39;</span>
<span class="s1">									font_name:&#39;BPoppins&#39;</span>
<span class="s1">									font_size:&#39;30sp&#39;</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:self.texture_size[1]</span>
<span class="s1">								MDScrollView:</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:dp(230)</span>
<span class="s1">									do_scroll_x:True</span>
<span class="s1">									MDBoxLayout:</span>
<span class="s1">										orientation:&#39;horizontal&#39;</span>
<span class="s1">										spacing:&#39;6sp&#39;</span>
<span class="s1">										adaptive_width:True</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>
<span class="s1">							MDBoxLayout:</span>
<span class="s1">								md_bg_color:app.theme_cls.primary_light</span>
<span class="s1">								orientation:&#39;vertical&#39;</span>
<span class="s1">								adaptive_height:True</span>
<span class="s1">								MDLabel:</span>
<span class="s1">									text:&#39;TOP SALES&#39;</span>
<span class="s1">									font_name:&#39;BPoppins&#39;</span>
<span class="s1">									font_size:&#39;30sp&#39;</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:self.texture_size[1]</span>
<span class="s1">								MDScrollView:</span>
<span class="s1">									size_hint_y:None</span>
<span class="s1">									height:dp(230)</span>
<span class="s1">									do_scroll_x:True</span>
<span class="s1">									MDBoxLayout:</span>
<span class="s1">										orientation:&#39;horizontal&#39;</span>
<span class="s1">										spacing:&#39;6sp&#39;</span>
<span class="s1">										adaptive_width:True</span>
<span class="s1">										CardContainer:</span>
<span class="s1">											text:&#39;Sugar&#39;</span>
<span class="s1">											secondary_text:&#39;50%&#39;</span>
<span class="s1">											scale:1.5</span>

<span class="s1">							</span>

<span class="s1">				MDScreen:</span>
<span class="s1">					name:&#39;statistics_screen&#39;</span>
<span class="s1">					AKBarChart:</span>
<span class="s1">						x_values: [0, 5, 8, 15]</span>
<span class="s1">    					y_values: [0, 10, 6, 8]</span>
<span class="s1">    			MDScreen:</span>
<span class="s1">    				name:&#39;items&#39;</span>
<span class="s1">    				on_enter:view_items_id.get_items()</span>
<span class="s1">    				ViewItems:</span>
<span class="s1">    					id:view_items_id</span>
<span class="s1">				MDScreen:</span>
<span class="s1">					name:&#39;user_screen&#39;</span>
<span class="s1">					on_enter:root.users()</span>
<span class="s1">					MDScrollView:</span>
<span class="s1">						MDList:</span>
<span class="s1">							id:user_list</span>
<span class="s1">				MDScreen:</span>
<span class="s1">					name:&#39;sales_screen&#39;</span>
<span class="s1">					AKPieChart:</span>
<span class="s1">						items:[{&quot;Python&quot;: 40, &quot;Java&quot;: 30, &quot;C++&quot;: 10, &quot;PHP&quot;: 8, &quot;Ruby&quot;: 12}]</span>
<span class="s1">						size_hint:(None, None)</span>
<span class="s1">						size:(dp(300), dp(300))</span>
<span class="s1">				MDScreen:</span>
<span class="s1">					name:&#39;signupuser_screen&#39;</span>
<span class="s1">					SignUpUser:</span>
<span class="s1">						</span>
<span class="s1">		ElementCard:</span>
<span class="s1">			orientation:&#39;vertical&#39;</span>
<span class="s1">			size_hint_x:None</span>
<span class="s1">			width:Window.size[0]*0.25</span>
<span class="s1">			size_hint_y:None</span>
<span class="s1">			height:Window.size[1]*0.80</span>
<span class="s1">			MDTopAppBar:</span>
<span class="s1">				title:&#39;LOGS&#39;</span>
<span class="s1">				right_action_items:[[&#39;refresh&#39;, lambda x:root.get_logged_activities()]]</span>
<span class="s1">			MDScrollViewRefreshLayout:</span>
<span class="s1">				id:refresh_activity</span>
<span class="s1">				root_layout:logged_activitiy</span>
<span class="s1">				refresh_callback:root.logs_refresh</span>
<span class="s1">				MDBoxLayout:</span>
<span class="s1">					orientation:&#39;vertical&#39;</span>
<span class="s1">					adaptive_height:True</span>
<span class="s1">					spacing:&#39;3sp&#39;</span>
<span class="s1">					id:logged_activitiy</span>


<span class="s1">	ElementCard:</span>
<span class="s1">		size_hint_y:None</span>
<span class="s1">		height:dp(45)</span>
<span class="s1">		pos_hint:{&#39;top&#39;:0.082}</span>
<span class="s1">		MDLabel:</span>
<span class="s1">			text:&#39;LOGGED IN AS:&#39; + app.username</span>
<span class="s1">			halign:&#39;center&#39;</span>
<span class="s1">			font_name:&#39;BPoppins&#39;</span>
<span class="s1">			font_size:&#39;12sp&#39;</span>
<span class="s1">		</span>

<span class="s1">&lt;ElementCard@MDCard&gt;:</span>
<span class="s1">    md_bg_color:[1, 1, 1, 0.2]</span>
<span class="s1">    padding:dp(8)</span>
<span class="s1">    spacing:dp(8)</span>
<span class="s1">    radius:dp(25)</span>
<span class="s1">    ripple_behavior: False </span>

<span class="s1">&lt;MyToolbar@MDTopAppBar&gt;:</span>
<span class="s1">	left_action_items:[[&#39;arrow-left&#39;, lambda X:app.show_screen(&#39;home&#39;, &#39;Back&#39;)]]</span>
<span class="s1">	right_action_items:[[&#39;dots-vertical&#39;, lambda X:app.pop_dropdownmenu(X)]]</span>

<span class="s1">MDScreen:</span>
<span class="s1">	MDScreenManager:</span>
<span class="s1">		id:screen_manager</span>
<span class="s1">		MDScreen:</span>
<span class="s1">			name:&#39;onboarding&#39;</span>
<span class="s1">			AKOnboarding:</span>
<span class="s1">				on_finish:app.return_home()</span>
<span class="s1">				MyAKOnboardingItem:</span>
<span class="s1">					source:&#39;assets/icon.png&#39;</span>
<span class="s1">					title:&#39;Welcome&#39;</span>
<span class="s1">					text:&#39;The Electronic Point of Sale is here to help with your shop management needs&#39;</span>
<span class="s1">				AKOnboardingItem:</span>
<span class="s1">					SignUpUser:</span>
<span class="s1">		MDScreen:</span>
<span class="s1">			name:&#39;login&#39;</span>
<span class="s1">			MDBoxLayout:</span>
<span class="s1">				orientation:&#39;vertical&#39;</span>
<span class="s1">				MyToolbar:</span>
<span class="s1">                    title: app.title</span>
<span class="s1">                    left_action_items:[[&quot;menu&quot; , lambda x: app.open_drawer()]]</span>
<span class="s1">                LoginView:</span>
<span class="s1">                	pos_hint:{&#39;center_y&#39;:0.6, &#39;center_x&#39;:0.5}</span>
<span class="s1">                	size_hint_y:None</span>
<span class="s1">                	height:Window.size[1]*0.90</span>
<span class="s1">                	size_hint_x:None</span>
<span class="s1">                	width:Window.size[0]*0.40</span>
<span class="s1">                Widget:</span>
<span class="s1">        MDScreen:</span>
<span class="s1">			name:&#39;home&#39;</span>
<span class="s1">			MDBoxLayout:</span>
<span class="s1">				orientation:&#39;vertical&#39;</span>
<span class="s1">				pos_hint:{&#39;top&#39;:1}</span>
<span class="s1">				MyToolbar:</span>
<span class="s1">                    title: app.title</span>
<span class="s1">                    left_action_items:[[&quot;menu&quot; , lambda x: app.open_drawer()]]</span>
<span class="s1">                MDBoxLayout:</span>
<span class="s1">					md_bg_color:app.theme_cls.primary_light</span>
<span class="s1">					orientation:&#39;vertical&#39;</span>
<span class="s1">					adaptive_height:True</span>
<span class="s1">					MDLabel:</span>
<span class="s1">						text:&#39;DEALS&#39;</span>
<span class="s1">						font_name:&#39;BPoppins&#39;</span>
<span class="s1">						font_size:&#39;30sp&#39;</span>
<span class="s1">						size_hint_y:None</span>
<span class="s1">						height:self.texture_size[1]</span>
<span class="s1">					MDScrollView:</span>
<span class="s1">						size_hint_y:None</span>
<span class="s1">						height:dp(230)</span>
<span class="s1">						do_scroll_x:True</span>
<span class="s1">						MDBoxLayout:</span>
<span class="s1">							orientation:&#39;horizontal&#39;</span>
<span class="s1">							spacing:&#39;6sp&#39;</span>
<span class="s1">							adaptive_width:True</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">				MDBoxLayout:</span>
<span class="s1">					md_bg_color:app.theme_cls.primary_light</span>
<span class="s1">					orientation:&#39;vertical&#39;</span>
<span class="s1">					adaptive_height:True</span>
<span class="s1">					MDLabel:</span>
<span class="s1">						text:&#39;New Arrivals&#39;</span>
<span class="s1">						font_name:&#39;BPoppins&#39;</span>
<span class="s1">						font_size:&#39;30sp&#39;</span>
<span class="s1">						size_hint_y:None</span>
<span class="s1">						height:self.texture_size[1]</span>
<span class="s1">					MDScrollView:</span>
<span class="s1">						size_hint_y:None</span>
<span class="s1">						height:dp(230)</span>
<span class="s1">						do_scroll_x:True</span>
<span class="s1">						MDBoxLayout:</span>
<span class="s1">							orientation:&#39;horizontal&#39;</span>
<span class="s1">							spacing:&#39;6sp&#39;</span>
<span class="s1">							adaptive_width:True</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">							CardContainer:</span>
<span class="s1">								text:&#39;Sugar&#39;</span>
<span class="s1">								secondary_text:&#39; Available at 50</span><span class="si">% o</span><span class="s1">ff&#39; </span>
<span class="s1">								scale:1.5</span>
<span class="s1">				Widget:</span>

<span class="s1">        MDScreen:</span>
<span class="s1">        	name:&#39;admin&#39;</span>
<span class="s1">        	AdminDashBoard:</span>
<span class="s1">        MDScreen:</span>
<span class="s1">        	name:&#39;items&#39;</span>
<span class="s1">        	on_enter:view_items_id.get_items()</span>
<span class="s1">        	ViewItems:</span>
<span class="s1">        		id:view_items_id</span>
<span class="s1">        MDScreen:</span>
<span class="s1">        	name:&#39;sales&#39;</span>
<span class="s1">        	MDBoxLayout:</span>
<span class="s1">        		orientation:&#39;vertical&#39;</span>
<span class="s1">        		MDTopAppBar:</span>
<span class="s1">        			title:&#39;SALES&#39;</span>
<span class="s1">        			left_action_items:[[&#39;arrow-left&#39;, lambda x:app.return_home()]]</span>
<span class="s1">        		Sales:</span>
<span class="s1">    MDNavigationDrawer:</span>
<span class="s1">        id: navdrawer</span>

<span class="s1">        ScrollView:</span>
<span class="s1">            </span>
<span class="s1">            MDBoxLayout:</span>
<span class="s1">                orientation: &quot;vertical&quot;</span>
<span class="s1">                adaptive_height: True</span>

<span class="s1">                MDRelativeLayout:</span>
<span class="s1">                    size_hint_y: None</span>
<span class="s1">                    height: title_box.height</span>

<span class="s1">                    FitImage:</span>
<span class="s1">                        source: &quot;texture_blur.png&quot;</span>

<span class="s1">                    MDBoxLayout:</span>
<span class="s1">                        id: title_box</span>
<span class="s1">                        adaptive_height: True</span>
<span class="s1">                        padding: dp(24)</span>

<span class="s1">                        MDLabel:</span>
<span class="s1">                            text: &quot;EPOS APP&quot;</span>
<span class="s1">                            font_style: &quot;H5&quot;</span>
<span class="s1">                            size_hint_y: None</span>
<span class="s1">                            height: self.texture_size[1]</span>
<span class="s1">                            shorten: True</span>

<span class="s1">                MDList:</span>
<span class="s1">                    IconListItem:</span>
<span class="s1">                    	id:sales_view</span>
<span class="s1">                    	icon:&#39;pound&#39;</span>
<span class="s1">                    	text:&#39;Sales&#39;</span>
<span class="s1">                    	on_release:app.change_screen(sales_view)</span>
<span class="s1">                    		</span>

<span class="s1">                    IconListItem:</span>
<span class="s1">                    	id:item_list</span>
<span class="s1">                    	icon:&#39;bag-carry-on&#39;</span>
<span class="s1">                    	text:&#39;Items&#39;</span>
<span class="s1">                    	on_release:app.change_screen(item_list)</span>
<span class="s1">                    		</span>
<span class="s1">                    AvatarListItem:</span>
<span class="s1">                    	id:notification_view</span>
<span class="s1">                    	icon_left:&#39;shield-alert&#39;</span>
<span class="s1">                    	icon_right:&#39;numeric-1-circle-outline&#39;</span>
<span class="s1">                    	text:&#39;notification&#39;</span>
<span class="s1">                    	on_release:app.change_screen(notification_view)</span>

<span class="s1">                    IconListItem:</span>
<span class="s1">                    	id:admin_view</span>
<span class="s1">                    	icon:&#39;shield-lock&#39;</span>
<span class="s1">                    	text:&#39;ADMIN&#39;</span>
<span class="s1">                    	on_release:app.change_screen(admin_view) </span>

<span class="s1">&#39;&#39;&#39;</span>



<div class="viewcode-block" id="IconListItem"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.IconListItem">[docs]</a><span class="k">class</span> <span class="nc">IconListItem</span><span class="p">(</span><span class="n">OneLineIconListItem</span><span class="p">,</span> <span class="n">ButtonBehavior</span><span class="p">):</span>
	<span class="n">icon</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span></div>

<div class="viewcode-block" id="AvatarListItem"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AvatarListItem">[docs]</a><span class="k">class</span> <span class="nc">AvatarListItem</span><span class="p">(</span><span class="n">OneLineAvatarIconListItem</span><span class="p">,</span> <span class="n">ButtonBehavior</span><span class="p">):</span>
	<span class="n">icon_left</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">icon_right</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span></div>

<div class="viewcode-block" id="RightLabel"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.RightLabel">[docs]</a><span class="k">class</span> <span class="nc">RightLabel</span><span class="p">(</span><span class="n">IRightBodyTouch</span><span class="p">,</span> <span class="n">MDBoxLayout</span><span class="p">):</span>
	<span class="n">adaptive_width</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="AddImage"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddImage">[docs]</a><span class="k">class</span> <span class="nc">AddImage</span><span class="p">(</span><span class="n">MDBoxLayout</span><span class="p">):</span>
	<span class="n">source</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
<div class="viewcode-block" id="AddImage.on_source"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddImage.on_source">[docs]</a>	<span class="k">def</span> <span class="nf">on_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">FitImage</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>   <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">MDDialog</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;[font_family=&quot;BPoppins&quot;]SELECTED[/font_family]: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> 
									<span class="nb">type</span><span class="o">=</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> 
									<span class="n">content_cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="p">,</span>
									<span class="n">buttons</span><span class="o">=</span><span class="p">[</span>
									<span class="n">MDFlatButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;CANCEL&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dismiss_dialog</span><span class="p">),</span> 
									<span class="n">MDRaisedButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">)]</span>
				<span class="p">)</span>

			
			<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
<div class="viewcode-block" id="AddImage.dismiss_dialog"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddImage.dismiss_dialog">[docs]</a>	<span class="k">def</span> <span class="nf">dismiss_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span></div>
<div class="viewcode-block" id="AddImage.set_image"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddImage.set_image">[docs]</a>	<span class="k">def</span> <span class="nf">set_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="c1">#just pass </span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="Notification"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Notification">[docs]</a><span class="k">class</span> <span class="nc">Notification</span><span class="p">(</span><span class="n">BoxLayout</span><span class="p">):</span>
	<span class="n">text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span></div>

<div class="viewcode-block" id="ErrorDialog"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ErrorDialog">[docs]</a><span class="k">class</span> <span class="nc">ErrorDialog</span><span class="p">(</span><span class="n">BoxLayout</span><span class="p">):</span>
	<span class="n">title</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">message</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span></div>


<span class="n">default_image</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;C:\Users\HP\Pictures&#39;</span><span class="p">,</span> <span class="s1">&#39;_yibs_ke-20220923-0001.webp&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="CardContainer"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.CardContainer">[docs]</a><span class="k">class</span> <span class="nc">CardContainer</span><span class="p">(</span><span class="n">MDCard</span><span class="p">):</span>
	<span class="n">text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
	<span class="n">secondary_text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
	<span class="n">source</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="n">default_image</span><span class="p">)</span>
	<span class="n">scale</span> <span class="o">=</span> <span class="n">NumericProperty</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClickableTextFieldRound"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ClickableTextFieldRound">[docs]</a><span class="k">class</span> <span class="nc">ClickableTextFieldRound</span><span class="p">(</span><span class="n">MDRelativeLayout</span><span class="p">):</span>
	<span class="n">text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">hint_text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">helper_text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">helper_text_mode</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;on_error&#39;</span><span class="p">)</span>
	<span class="n">icon</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;android&#39;</span><span class="p">)</span>
	<span class="n">text_field_icon</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;lead-pencil&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="ClickableTextFieldRound.validate"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ClickableTextFieldRound.validate">[docs]</a>	<span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39;validate the text that is enter </span>
<span class="sd">			This method is implemetend by the inhereting class</span>
<span class="sd">		&#39;&#39;&#39;</span></div>
<div class="viewcode-block" id="ClickableTextFieldRound.toggle_eye"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ClickableTextFieldRound.toggle_eye">[docs]</a>	<span class="k">def</span> <span class="nf">toggle_eye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">password_field_clickable</span><span class="o">.</span><span class="n">icon</span> <span class="o">==</span> <span class="s1">&#39;eye&#39;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">text_field</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="kc">False</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">password_field_clickable</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;eye-off&#39;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">password_field_clickable</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;eye&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">text_field</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="kc">True</span></div></div>
<div class="viewcode-block" id="ViewItems"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ViewItems">[docs]</a><span class="k">class</span> <span class="nc">ViewItems</span><span class="p">(</span><span class="n">MDBoxLayout</span><span class="p">):</span>
	<span class="n">dialog</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="ViewItems.get_items"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ViewItems.get_items">[docs]</a>	<span class="k">def</span> <span class="nf">get_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">get_invetory</span>
		<span class="n">items</span> <span class="o">=</span> <span class="n">get_invetory</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">items_list</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">items_list</span><span class="o">.</span><span class="n">remove_widget</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
			<span class="n">i</span> <span class="o">=</span> <span class="n">ThreeLineListItem</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;code:&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]),</span> <span class="n">secondary_text</span><span class="o">=</span><span class="s1">&#39;name:&#39;</span><span class="o">+</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">tertiary_text</span><span class="o">=</span><span class="s1">&#39;price:&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">])</span> <span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">items_list</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></div>
<div class="viewcode-block" id="ViewItems.add_item"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ViewItems.add_item">[docs]</a>	<span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">MDDialog</span><span class="p">(</span>
				<span class="n">title</span><span class="o">=</span><span class="s1">&#39;ADD ITEM&#39;</span><span class="p">,</span>
				<span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span>
				<span class="n">content_cls</span> <span class="o">=</span> <span class="n">AddItem</span><span class="p">(),</span>
				<span class="n">buttons</span> <span class="o">=</span> <span class="p">[</span><span class="n">MDFlatButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Cancel&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)]</span>

			<span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
<div class="viewcode-block" id="ViewItems.close"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.ViewItems.close">[docs]</a>	<span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span> </div></div>
<div class="viewcode-block" id="CustomSnackbar"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.CustomSnackbar">[docs]</a><span class="k">class</span> <span class="nc">CustomSnackbar</span><span class="p">(</span><span class="n">BaseSnackbar</span><span class="p">):</span>
	<span class="n">text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
	<span class="n">icon</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;bell&#39;</span><span class="p">)</span>
	<span class="n">font_size</span> <span class="o">=</span> <span class="n">NumericProperty</span><span class="p">(</span><span class="s2">&quot;15sp&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Scanner"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner">[docs]</a><span class="k">class</span> <span class="nc">Scanner</span><span class="p">(</span><span class="n">MDFloatLayout</span><span class="p">):</span>
	<span class="n">play</span> <span class="o">=</span> <span class="n">BooleanProperty</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
	<span class="n">close_btn</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">images</span> <span class="o">=</span> <span class="n">ListProperty</span><span class="p">()</span>
	<span class="n">camera</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; scan the qrcode for the item &#39;&#39;&#39;</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">size_hint</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mf">0.55</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.52</span>
		
		<span class="c1">#self.camera.resolution = (dp(Window.size[0]), dp(Window.size[1]))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span> <span class="o">=</span> <span class="n">MDFloatingActionButton</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;close&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">}</span>
		
		
		
		<span class="bp">self</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">}</span>
		<span class="n">Clock</span><span class="o">.</span><span class="n">schedule_once</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prepopulate</span><span class="p">)</span>

		<span class="n">Clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_management</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mf">0.5</span><span class="p">)</span>

<div class="viewcode-block" id="Scanner.close_scanner"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.close_scanner">[docs]</a>	<span class="k">def</span> <span class="nf">close_scanner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; close the scanner and also the camera&#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">play</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span></div>
		

<div class="viewcode-block" id="Scanner.start_scanner"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.start_scanner">[docs]</a>	<span class="k">def</span> <span class="nf">start_scanner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; start the scanner of the application &#39;&#39;&#39;</span>
		<span class="k">def</span> <span class="nf">starter</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">create_camera</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">starter</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span> <span class="p">))</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="Scanner.update"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.update">[docs]</a>	<span class="nd">@mainthread</span>
	<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="k">pass</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="p">)</span></div>
<div class="viewcode-block" id="Scanner.create_camera"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.create_camera">[docs]</a>	<span class="nd">@mainthread</span>
	<span class="k">def</span> <span class="nf">create_camera</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">Camera</span><span class="p">(</span><span class="n">index</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">dp</span><span class="p">(</span><span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">dp</span><span class="p">(</span><span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">)),</span> <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">play</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">start_scanning</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="p">)</span></div>

<div class="viewcode-block" id="Scanner.scan"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.scan">[docs]</a>	<span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; scan the image for the codes &#39;&#39;&#39;</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">CodeScanner</span>

		<span class="n">codescanner</span> <span class="o">=</span> <span class="n">CodeScanner</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
		<span class="n">codescanner</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span></div>
<div class="viewcode-block" id="Scanner.on_images"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.on_images">[docs]</a>	<span class="k">def</span> <span class="nf">on_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="n">pic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">pic</span><span class="p">)</span></div>

<div class="viewcode-block" id="Scanner.capture_image"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.capture_image">[docs]</a>	<span class="nd">@mainthread</span>
	<span class="k">def</span> <span class="nf">capture_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; capture the image as the camera see it&#39;&#39;&#39;</span>
		<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
		<span class="kn">import</span> <span class="nn">os</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
		<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;temp_images&#39;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
			<span class="k">pass</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1">#make the dir</span>
			<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;temp_images&#39;</span><span class="p">))</span>
		<span class="n">file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>
		<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">export_to_png</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div>

<div class="viewcode-block" id="Scanner.start_scanning"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.start_scanning">[docs]</a>	<span class="k">def</span> <span class="nf">start_scanning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">play</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
			<span class="n">Clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">capture_image</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">Clock</span><span class="o">.</span><span class="n">unschedule</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">capture_image</span><span class="p">)</span></div>

<div class="viewcode-block" id="Scanner.cache_management"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.cache_management">[docs]</a>	<span class="k">def</span> <span class="nf">cache_management</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; prevent from making too many images &#39;&#39;&#39;</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
		<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;temp_images&#39;</span><span class="p">)</span>
		<span class="k">if</span>  <span class="nb">len</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">)[:</span><span class="nb">len</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span><span class="o">-</span><span class="mi">20</span><span class="p">]:</span>
				<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
				<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div>

<div class="viewcode-block" id="Scanner.prepopulate"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Scanner.prepopulate">[docs]</a>	<span class="k">def</span> <span class="nf">prepopulate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; load previous images from the temp file &#39;&#39;&#39;</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
		<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;temp_images&#39;</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
			<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div></div>

		
<div class="viewcode-block" id="Sales"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales">[docs]</a><span class="k">class</span> <span class="nc">Sales</span><span class="p">(</span><span class="n">MDFloatLayout</span><span class="p">):</span>
	<span class="n">shopping_list</span> <span class="o">=</span> <span class="n">ListProperty</span><span class="p">()</span>
	
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;vertical&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">play</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">close_btn</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">close_scanner</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span> <span class="o">=</span> <span class="n">ClickableTextFieldRound</span><span class="p">(</span><span class="n">hint_text</span><span class="o">=</span><span class="s1">&#39;Item Code&#39;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s1">&#39;search-web&#39;</span><span class="p">,</span> <span class="n">helper_text</span><span class="o">=</span><span class="s1">&#39;Enter a valid Code&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">text_field</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">perform_match</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">text_field</span><span class="o">.</span><span class="n">text</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">password_field_clickable</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.45</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">size_hint_x</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mf">0.7</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">shopping_cart_button</span> <span class="o">=</span> <span class="n">MDIcon</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">font_name</span><span class="o">=</span><span class="s1">&#39;BPoppins&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">shopping_cart_button</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_scroll</span> <span class="o">=</span> <span class="n">MDScrollView</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_scroll</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;top&#39;</span><span class="p">:</span><span class="mf">0.85</span><span class="p">}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_box</span> <span class="o">=</span> <span class="n">MDBoxLayout</span><span class="p">(</span><span class="n">adaptive_height</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_scroll</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">search_box</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shopping_cart_button</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">search_scroll</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">scanner_button</span> <span class="o">=</span> <span class="n">MDFloatingActionButton</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;camera&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">scanner_button</span><span class="o">.</span><span class="n">pos_hint</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">scanner_button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_press</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scan</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scanner_button</span><span class="p">)</span>
		<span class="n">Window</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_resize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_update_size</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_dropdown</span> <span class="o">=</span> <span class="n">MDDropdownMenu</span><span class="p">(</span><span class="n">width_mult</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">_update_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; update the size of the widgets &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">Window</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mf">0.7</span>



<div class="viewcode-block" id="Sales.search"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales.search">[docs]</a>	<span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; called for the search if the item is not selected in the dropdown &#39;&#39;&#39;</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">item_ids</span>
		<span class="n">search_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">text_field</span><span class="o">.</span><span class="n">text</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_box</span><span class="o">.</span><span class="n">clear_widgets</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">search_text</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">item_ids</span><span class="p">():</span>
				<span class="k">if</span> <span class="n">search_text</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="ow">or</span> <span class="n">search_text</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
					<span class="n">item_view</span> <span class="o">=</span> <span class="n">CartItem</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> 
											  <span class="n">secondary_text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
											  <span class="n">source</span><span class="o">=</span><span class="n">face_path_png</span><span class="p">,</span> 
											  <span class="n">on_release</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_sale</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
					<span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shopping_list</span><span class="p">:</span>
						<span class="n">item_view</span><span class="o">.</span><span class="n">cart_button_icon</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;minus&#39;</span>
					<span class="k">else</span><span class="p">:</span>
						<span class="n">item_view</span><span class="o">.</span><span class="n">cart_button_icon</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;plus&#39;</span>
					<span class="n">item_view</span><span class="o">.</span><span class="n">cart_button_icon</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="n">item</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">add_to_shopping_list</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">search_box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">item_view</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_box</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
				<span class="k">pass</span>
			<span class="k">else</span><span class="p">:</span>

				<span class="n">error_label</span> <span class="o">=</span> <span class="n">MDLabel</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Item </span><span class="si">{</span><span class="n">search_text</span><span class="si">}</span><span class="s1">  not Found  </span><span class="se">\n</span><span class="s1"> if the problem persist contact admin&#39;</span><span class="p">,</span> 
									  <span class="n">halign</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
									  <span class="n">font_name</span><span class="o">=</span><span class="s1">&#39;IPoppins&#39;</span><span class="p">,</span> 
									  <span class="n">font_size</span><span class="o">=</span><span class="s1">&#39;18dp&#39;</span><span class="p">,</span>
									  <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="mf">0.3</span><span class="p">}</span>
									  <span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">search_box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">error_label</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sales.add_to_shopping_list"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales.add_to_shopping_list">[docs]</a>	<span class="k">def</span> <span class="nf">add_to_shopping_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">		..	Toggle an Item to shopping list </span>
<span class="sd">			param: instance: &lt;MDIconButton&gt;</span>
<span class="sd">				instance of the mdicon button</span>
<span class="sd">		&#39;&#39;&#39;</span>
		
		<span class="n">item_number</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">secondary_text</span>
		
		
		
		<span class="k">if</span> <span class="n">item_number</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shopping_list</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">shopping_list</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item_number</span><span class="p">)</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;plus&#39;</span>
		<span class="k">else</span><span class="p">:</span> 
			<span class="bp">self</span><span class="o">.</span><span class="n">shopping_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item_number</span><span class="p">)</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;minus&#39;</span> 
		<span class="n">total_items</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shopping_list</span><span class="p">)</span>
		
		<span class="k">if</span> <span class="n">total_items</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
			<span class="c1"># create a numeric badge icon</span>
			<span class="n">badge</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;numeric-</span><span class="si">{</span><span class="n">total_items</span><span class="si">}</span><span class="s1">-circle&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">shopping_cart_button</span><span class="o">.</span><span class="n">badge_font_size</span> <span class="o">=</span> <span class="mi">20</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">shopping_cart_button</span><span class="o">.</span><span class="n">badge_icon</span> <span class="o">=</span> <span class="n">badge</span></div>

<div class="viewcode-block" id="Sales.perform_match"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales.perform_match">[docs]</a>	<span class="k">def</span> <span class="nf">perform_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; </span>
<span class="sd">		..	perform a match for the items</span>
<span class="sd">			param: instance: `kivymd.uix.textfield.MDTextField`</span>
<span class="sd">				the calling instance of the class</span>
<span class="sd">			param: text: str</span>
<span class="sd">				name entered or id that is passed to be viewed </span>

<span class="sd">		&#39;&#39;&#39;</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">item_ids</span>
		<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">item_ids</span><span class="p">():</span>
			<span class="k">if</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="ow">or</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">code</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
				<span class="n">item</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">code</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> 
						<span class="s1">&#39;secondary_text&#39;</span><span class="p">:</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">code</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
						<span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">face_path_png</span><span class="p">,</span> 
						<span class="s1">&#39;viewclass&#39;</span><span class="p">:</span><span class="s1">&#39;CartItem&#39;</span><span class="p">,</span>
						<span class="s1">&#39;on_release&#39;</span><span class="p">:</span><span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">code</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_sale</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
				<span class="p">}</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">search_dropdown</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">search_dropdown</span><span class="o">.</span><span class="n">caller</span> <span class="o">=</span> <span class="n">instance</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_dropdown</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>

<div class="viewcode-block" id="Sales.make_sale"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales.make_sale">[docs]</a>	<span class="k">def</span> <span class="nf">make_sale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Callback for making the sale of an item</span>
<span class="sd">			opens a confirmation dialog for confirming sale of the item</span>
<span class="sd">			param: item_id: str</span>
<span class="sd">				the item id is passed as string but later converted to interger during processing of the sale</span>
<span class="sd">			returntype: None</span>
<span class="sd">		&#39;&#39;&#39;</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">item_id</span><span class="o">.</span><span class="n">secondary_text</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">search_dropdown</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span>
		<span class="k">return</span> <span class="kc">True</span></div>

	
<div class="viewcode-block" id="Sales.scan"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales.scan">[docs]</a>	<span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; add the scanner to the window &#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">close_scanner</span><span class="p">()</span>

		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">play</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">start_scanner</span><span class="p">()</span></div>
			

<div class="viewcode-block" id="Sales.close_scanner"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Sales.close_scanner">[docs]</a>	<span class="k">def</span> <span class="nf">close_scanner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; close the scanner &#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">close_scanner</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="AddItem"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem">[docs]</a><span class="k">class</span> <span class="nc">AddItem</span><span class="p">(</span><span class="n">MDBoxLayout</span><span class="p">):</span>
<span class="w">	</span><span class="sd">&#39;&#39;&#39; ..class add items to the invetory &#39;&#39;&#39;</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">size_hint_y</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">700</span>
		<span class="c1">#self.md_bg_color = [120/255, 120/255, 120/255, 1]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">scroll</span> <span class="o">=</span> <span class="n">MDScrollView</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">MDBoxLayout</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">adaptive_size</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="s1">&#39;2sp&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;vertical&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_name</span> <span class="o">=</span> <span class="n">MDTextField</span><span class="p">(</span><span class="n">hint_text</span><span class="o">=</span><span class="s1">&#39;Item Name&#39;</span><span class="p">,</span> <span class="n">helper_text_mode</span><span class="o">=</span><span class="s1">&#39;on_error&#39;</span><span class="p">,</span> <span class="n">helper_text</span><span class="o">=</span><span class="s1">&#39;Invalid input&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_name</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_strings</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_quantity</span> <span class="o">=</span> <span class="n">MDTextField</span><span class="p">(</span><span class="n">hint_text</span><span class="o">=</span><span class="s1">&#39;Quantity&#39;</span><span class="p">,</span> <span class="n">helper_text_mode</span><span class="o">=</span><span class="s1">&#39;on_error&#39;</span><span class="p">,</span> <span class="n">helper_text</span><span class="o">=</span><span class="s1">&#39;Invalid input&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_quantity</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_integer</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_unit</span> <span class="o">=</span> <span class="n">MDTextField</span><span class="p">(</span><span class="n">hint_text</span><span class="o">=</span><span class="s1">&#39;Unit&#39;</span><span class="p">,</span> <span class="n">helper_text_mode</span><span class="o">=</span><span class="s1">&#39;on_error&#39;</span><span class="p">,</span> <span class="n">helper_text</span><span class="o">=</span><span class="s1">&#39;Invalid input&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_unit</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_strings</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">item_price</span> <span class="o">=</span> <span class="n">MDTextField</span><span class="p">(</span><span class="n">hint_text</span><span class="o">=</span><span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="n">helper_text_mode</span><span class="o">=</span><span class="s1">&#39;on_error&#39;</span><span class="p">,</span> <span class="n">helper_text</span><span class="o">=</span><span class="s1">&#39;Invalid input&#39;</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">item_price</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_integer</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_image_btn</span> <span class="o">=</span> <span class="n">AddImage</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_image_btn</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">add_image_btn_id</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">choose_image</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span> <span class="o">=</span> <span class="n">MDRaisedButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;SAVE&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_item</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_name</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_quantity</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_unit</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_price</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_image_btn</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">)</span>

<div class="viewcode-block" id="AddItem.save_item"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.save_item">[docs]</a>	<span class="k">def</span> <span class="nf">save_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; ..save the items in the database &#39;&#39;&#39;</span>
		<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
		<span class="n">item_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_name</span><span class="o">.</span><span class="n">text</span>
		<span class="n">item_quantity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_quantity</span><span class="o">.</span><span class="n">text</span>
		<span class="n">item_unit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_unit</span><span class="o">.</span><span class="n">text</span>
		<span class="n">item_price</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_price</span><span class="o">.</span><span class="n">text</span>
		<span class="n">input_fields</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">item_name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">item_quantity</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_unit</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">item_price</span><span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="k">for</span> <span class="n">inpt</span> <span class="ow">in</span> <span class="n">input_fields</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">validate_otg</span><span class="p">(</span><span class="n">inpt</span><span class="p">)</span>


		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
			<span class="n">CustomSnackbar</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;[color=&#39;</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">get_hex_from_color</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">])</span><span class="si">}</span><span class="s1">&#39;</span> <span class="s1">&#39;]Make sure all the field as filled[/color]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">items</span> <span class="o">=</span> <span class="n">Items</span><span class="p">(</span> <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">()),</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_name</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">quantity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_quantity</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_unit</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_price</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;In stocl&#39;</span><span class="p">)</span>
			<span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
			<span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
			<span class="k">for</span> <span class="n">inpt</span> <span class="ow">in</span> <span class="n">input_fields</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">clean_inputs</span><span class="p">(</span><span class="n">inpt</span><span class="p">)</span>
			<span class="n">CustomSnackbar</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;[color=&#39;</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">get_hex_from_color</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">])</span><span class="si">}</span><span class="s1">&#39;&#39;]Saved Succesfully[/color]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
	
<div class="viewcode-block" id="AddItem.validate_otg"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.validate_otg">[docs]</a>	<span class="k">def</span> <span class="nf">validate_otg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;This field Is required&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">False</span></div>
<div class="viewcode-block" id="AddItem.clean_inputs"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.clean_inputs">[docs]</a>	<span class="k">def</span> <span class="nf">clean_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
		<span class="n">instance</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="AddItem.choose_image"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.choose_image">[docs]</a>	<span class="k">def</span> <span class="nf">choose_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">plyer</span> <span class="kn">import</span> <span class="n">filechooser</span>
		<span class="n">filechooser</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="n">on_selection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="p">)</span></div>
<div class="viewcode-block" id="AddItem.selection"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.selection">[docs]</a>	<span class="k">def</span> <span class="nf">selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selection</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">image_path</span> <span class="o">=</span> <span class="n">selection</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">add_image_btn</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_path</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_path</span><span class="p">)</span></div>





<div class="viewcode-block" id="AddItem.validate_strings"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.validate_strings">[docs]</a>	<span class="k">def</span> <span class="nf">validate_strings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; ..validate the text of the textfield &#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">False</span>

		<span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;this field cannot be blank&#39;</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">32</span><span class="p">:</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39; use a shorter name&#39;</span></div>
		
<div class="viewcode-block" id="AddItem.validate_integer"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AddItem.validate_integer">[docs]</a>	<span class="k">def</span> <span class="nf">validate_integer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; ..validate the integer fields &#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span> <span class="p">:</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;this field cannot be blank&#39;</span>
		<span class="k">elif</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
				<span class="k">if</span> <span class="n">char</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">digits</span><span class="p">:</span>
					<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
					<span class="n">instance</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;input number only (0-9)&#39;</span>
					<span class="k">break</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">False</span></div></div>

<div class="viewcode-block" id="Invetory"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Invetory">[docs]</a><span class="k">class</span> <span class="nc">Invetory</span><span class="p">(</span><span class="n">MDBoxLayout</span><span class="p">):</span>
	<span class="n">datatable</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>

<div class="viewcode-block" id="Invetory.column_data"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Invetory.column_data">[docs]</a>	<span class="k">def</span> <span class="nf">column_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; arrange the data in a row &#39;&#39;&#39;</span>
		<span class="n">column</span> <span class="o">=</span> <span class="p">[</span>
		<span class="p">(</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="n">dp</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span>
		<span class="p">(</span><span class="s1">&#39;NAME&#39;</span><span class="p">,</span> <span class="n">dp</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span>
		<span class="p">(</span><span class="s1">&#39;QUANTITY&#39;</span><span class="p">,</span> <span class="n">dp</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span>
		<span class="p">(</span><span class="s1">&#39;UNIT&#39;</span><span class="p">,</span> <span class="n">dp</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span> 
		<span class="p">(</span><span class="s1">&#39;PRICE&#39;</span><span class="p">,</span> <span class="n">dp</span><span class="p">(</span><span class="mi">15</span><span class="p">)),</span>
		<span class="p">(</span><span class="s1">&#39;DESCRIPTION&#39;</span><span class="p">,</span> <span class="n">dp</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
		<span class="p">]</span>

		<span class="k">return</span> <span class="n">column</span></div>

<div class="viewcode-block" id="Invetory.row_data"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.Invetory.row_data">[docs]</a>	<span class="k">def</span> <span class="nf">row_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; ..row data for the datatable &#39;&#39;&#39;</span>
		<span class="c1">#query the data </span>
		<span class="n">row_values</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">datas</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Items</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">datas</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">serialized</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
			<span class="n">row_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">value</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">value</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">value</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>

		<span class="k">return</span> <span class="n">row_values</span></div></div>

<div class="viewcode-block" id="UserMenuHandler"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler">[docs]</a><span class="k">class</span> <span class="nc">UserMenuHandler</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">user_id</span>
		<span class="n">actions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;edit&#39;</span><span class="p">,</span><span class="s1">&#39;delete&#39;</span><span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">menu_items</span> <span class="o">=</span><span class="p">[</span> <span class="p">{</span>
						<span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
						<span class="s2">&quot;viewclass&quot;</span><span class="p">:</span> <span class="s2">&quot;OneLineListItem&quot;</span><span class="p">,</span>
						<span class="s2">&quot;on_release&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">menu_callback</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
						<span class="p">}</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">actions</span> <span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">menu</span> <span class="o">=</span> <span class="n">MDDropdownMenu</span><span class="p">(</span> <span class="n">items</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_items</span><span class="p">,</span> <span class="n">width_mult</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initialize_user</span><span class="p">()</span>
<div class="viewcode-block" id="UserMenuHandler.initialize_user"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.initialize_user">[docs]</a>	<span class="k">def</span> <span class="nf">initialize_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">query_user</span>
		<span class="n">user</span> <span class="o">=</span> <span class="n">query_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">user</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">username</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">password</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span></div>
<div class="viewcode-block" id="UserMenuHandler.menu_callback"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.menu_callback">[docs]</a>	<span class="k">def</span> <span class="nf">menu_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;edit&#39;</span><span class="p">:</span>
			
			<span class="bp">self</span><span class="o">.</span><span class="n">open_edit_dialog</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span>
		<span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;delete&#39;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">open_delete_dialog</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span></div>

<div class="viewcode-block" id="UserMenuHandler.open_delete_dialog"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.open_delete_dialog">[docs]</a>	<span class="k">def</span> <span class="nf">open_delete_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">delete_dialog</span> <span class="o">=</span> <span class="n">MDDialog</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Delete&#39;</span><span class="p">,</span>
									  <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Are sure you want to permanetly delete [size=24][i][b]</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">[b][/i][/size]&quot;</span><span class="p">,</span> 
									  <span class="n">buttons</span><span class="o">=</span><span class="p">[</span><span class="n">MDFlatButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;CANCEL&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_dialog_dismiss</span><span class="p">),</span>
									  		   <span class="n">MDRaisedButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;DELETE&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_user_func</span><span class="p">)])</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">delete_dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
<div class="viewcode-block" id="UserMenuHandler.delete_dialog_dismiss"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.delete_dialog_dismiss">[docs]</a>	<span class="k">def</span> <span class="nf">delete_dialog_dismiss</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; dismiss the delete dialog box &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">delete_dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span></div>
<div class="viewcode-block" id="UserMenuHandler.delete_user_func"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.delete_user_func">[docs]</a>	<span class="k">def</span> <span class="nf">delete_user_func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">delete_dialog_dismiss</span><span class="p">()</span>
		<span class="kn">from</span> <span class="nn">tools</span> <span class="kn">import</span> <span class="n">delete_user</span>
		<span class="k">if</span> <span class="n">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">):</span>
			<span class="n">notify_banner</span><span class="p">(</span><span class="s1">&#39;Deleted Succesfully&#39;</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">notify_banner</span><span class="p">(</span><span class="s1">&#39;Failed to delete&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="UserMenuHandler.open_edit_dialog"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.open_edit_dialog">[docs]</a>	<span class="k">def</span> <span class="nf">open_edit_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">useredit</span> <span class="o">=</span> <span class="n">UserEdit</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">edit_dialog</span> <span class="o">=</span> <span class="n">MDDialog</span><span class="p">(</span>
						  <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span>
						  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;EDIT USER&#39;</span><span class="p">,</span>
						  <span class="n">content_cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">useredit</span><span class="p">,</span>
						  <span class="n">buttons</span><span class="o">=</span><span class="p">[</span><span class="n">MDFlatButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;CANCEL&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">edit_dialog_dismiss</span><span class="p">),</span> 
						  		   <span class="n">MDRaisedButton</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;SAVE&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_edit</span><span class="p">)])</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">edit_dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
<div class="viewcode-block" id="UserMenuHandler.edit_dialog_dismiss"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.edit_dialog_dismiss">[docs]</a>	<span class="k">def</span> <span class="nf">edit_dialog_dismiss</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; dismiss the edit dialog box &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">edit_dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span></div>
<div class="viewcode-block" id="UserMenuHandler.save_edit"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserMenuHandler.save_edit">[docs]</a>	<span class="k">def</span> <span class="nf">save_edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; saves the changes &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">useredit</span><span class="o">.</span><span class="n">edit</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">edit_dialog_dismiss</span><span class="p">()</span></div>
	<span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">caller</span> <span class="o">=</span> <span class="n">instance</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>


<div class="viewcode-block" id="UserEdit"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserEdit">[docs]</a><span class="k">class</span> <span class="nc">UserEdit</span><span class="p">(</span><span class="n">MDBoxLayout</span><span class="p">):</span>
	<span class="n">user_id</span> <span class="o">=</span> <span class="n">NumericProperty</span><span class="p">()</span>
	<span class="n">username</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">password</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">email</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
	<span class="n">username_id</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">password_id</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">email_id</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>


<div class="viewcode-block" id="UserEdit.edit"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.UserEdit.edit">[docs]</a>	<span class="k">def</span> <span class="nf">edit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; perform the edit upon confirmation &#39;&#39;&#39;</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">EditUser</span>
		<span class="n">user</span> <span class="o">=</span> <span class="n">EditUser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">username_id</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">password_id</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">email_id</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">():</span>
			<span class="n">notify_banner</span><span class="p">(</span><span class="s1">&#39;Edited Succesfully&#39;</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">notify_banner</span><span class="p">(</span><span class="s1">&#39;Failed to edit&#39;</span><span class="p">)</span></div>

	<span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="AdminDashBoard"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AdminDashBoard">[docs]</a><span class="k">class</span> <span class="nc">AdminDashBoard</span><span class="p">(</span><span class="n">MDFloatLayout</span><span class="p">):</span>
<span class="w">	</span><span class="sd">&#39;&#39;&#39; This display all the functionality of use and all previlliged capabilities in the application &#39;&#39;&#39;</span>
	<span class="n">screen_manager</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">logs</span> <span class="o">=</span> <span class="n">ListProperty</span><span class="p">()</span>
	<span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="nb">next</span> <span class="o">=</span> <span class="mi">10</span>

<div class="viewcode-block" id="AdminDashBoard.users"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AdminDashBoard.users">[docs]</a>	<span class="k">def</span> <span class="nf">users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">get_users</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">user_list</span><span class="o">.</span><span class="n">clear_widgets</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">_user</span> <span class="ow">in</span> <span class="n">get_users</span><span class="p">():</span>
			<span class="n">user</span> <span class="o">=</span> <span class="n">ThreeLineAvatarIconListItem</span><span class="p">(</span><span class="n">IconLeftWidget</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;face-man&#39;</span><span class="p">),</span> 
												<span class="n">IconRightWidget</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;dots-vertical&#39;</span><span class="p">,</span> <span class="n">on_release</span><span class="o">=</span><span class="n">UserMenuHandler</span><span class="p">(</span><span class="n">_user</span><span class="o">.</span><span class="n">id</span><span class="p">)),</span> 
												<span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">_user</span><span class="o">.</span><span class="n">username</span><span class="p">),</span> 
												<span class="n">secondary_text</span><span class="o">=</span><span class="n">_user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> 
												<span class="n">tertiary_text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">_user</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">user_list</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">user</span><span class="p">)</span></div>
<div class="viewcode-block" id="AdminDashBoard.get_logged_activities"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AdminDashBoard.get_logged_activities">[docs]</a>	<span class="k">def</span> <span class="nf">get_logged_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39;return the recent logged activities&#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">logged_activitiy</span><span class="o">.</span><span class="n">clear_widgets</span><span class="p">()</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">Log</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">logs</span> <span class="o">=</span> <span class="n">Log</span><span class="o">.</span><span class="n">get_logs</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">log</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">logs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">]:</span>
			<span class="n">user</span> <span class="o">=</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
			<span class="n">action</span> <span class="o">=</span> <span class="n">log</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
			<span class="n">time</span> <span class="o">=</span> <span class="n">log</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
			<span class="n">avatar</span> <span class="o">=</span> <span class="n">TwoLineAvatar</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">secondary_text</span><span class="o">=</span><span class="n">action</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="n">time</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">logged_activitiy</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">avatar</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">refresh_activity</span><span class="o">.</span><span class="n">refresh_done</span><span class="p">()</span></div>
	


<div class="viewcode-block" id="AdminDashBoard.logs_refresh"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AdminDashBoard.logs_refresh">[docs]</a>	<span class="k">def</span> <span class="nf">logs_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; update the logs &#39;&#39;&#39;</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">+=</span> <span class="mi">10</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">previous</span> <span class="o">+=</span> <span class="mi">10</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="mi">10</span> 
				<span class="bp">self</span><span class="o">.</span><span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">get_logged_activities</span><span class="p">()</span>
			

		<span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">get_logged_activities</span><span class="p">()</span></div>
			
<div class="viewcode-block" id="AdminDashBoard.launch_admin"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.AdminDashBoard.launch_admin">[docs]</a>	<span class="k">def</span> <span class="nf">launch_admin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Process the value for admins widgets&#39;&#39;&#39;</span>	
		<span class="bp">self</span><span class="o">.</span><span class="n">get_logged_activities</span><span class="p">()</span></div></div>




<div class="viewcode-block" id="TwoLineAvatar"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.TwoLineAvatar">[docs]</a><span class="k">class</span> <span class="nc">TwoLineAvatar</span><span class="p">(</span><span class="n">TwoLineAvatarIconListItem</span><span class="p">):</span>
	<span class="n">source</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="n">face_path_png</span><span class="p">)</span>
	<span class="n">timestamp</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="CartItem"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.CartItem">[docs]</a><span class="k">class</span> <span class="nc">CartItem</span><span class="p">(</span><span class="n">TwoLineAvatarIconListItem</span><span class="p">):</span>
		<span class="n">source</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="n">face_path_png</span><span class="p">)</span>
		<span class="n">cart_button_icon</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span></div>

<div class="viewcode-block" id="LoginView"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.LoginView">[docs]</a><span class="k">class</span> <span class="nc">LoginView</span><span class="p">(</span><span class="n">MDCard</span><span class="p">):</span>
<span class="w">	</span><span class="sd">&#39;&#39;&#39; Logins the user of the application &#39;&#39;&#39;</span>
	<span class="n">username</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">password</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">error_text</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span></div>



<div class="viewcode-block" id="SignUpUser"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.SignUpUser">[docs]</a><span class="k">class</span> <span class="nc">SignUpUser</span><span class="p">(</span><span class="n">MDCard</span><span class="p">):</span>
	<span class="n">username</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">password</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">email</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>
	<span class="n">repeat_password</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>

<div class="viewcode-block" id="SignUpUser.password_strength"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.SignUpUser.password_strength">[docs]</a>	<span class="k">def</span> <span class="nf">password_strength</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Check the strength of the password &#39;&#39;&#39;</span>
		<span class="n">password_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">text</span>
				
		<span class="kn">from</span> <span class="nn">tools</span> <span class="kn">import</span> <span class="n">PasswordStrength</span>
		<span class="n">strong</span> <span class="o">=</span> <span class="n">PasswordStrength</span><span class="p">(</span><span class="n">password_text</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">strong</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">False</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">helper_text_mode</span> <span class="o">=</span> <span class="s1">&#39;persistent&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">helper_text_color_normal</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;Strong password&#39;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">helper_text_mode</span> <span class="o">=</span> <span class="s1">&#39;on_error&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;Weak password (make sure your password has upper and lowercase , digits and special characters)&#39;</span></div>



<div class="viewcode-block" id="SignUpUser.compare_password"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.SignUpUser.compare_password">[docs]</a>	<span class="k">def</span> <span class="nf">compare_password</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">text</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">helper_text_mode</span> <span class="o">=</span> <span class="s1">&#39;on_error&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s2">&quot;Not a match &quot;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">False</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">helper_text_mode</span> <span class="o">=</span> <span class="s1">&#39;persistent&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">helper_text_color_normal</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="s1">&#39;match&#39;</span></div>

<div class="viewcode-block" id="SignUpUser.check_username"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.SignUpUser.check_username">[docs]</a>	<span class="k">def</span> <span class="nf">check_username</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">check_user_exist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">text</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">helper_text_mode</span> <span class="o">=</span> <span class="s1">&#39;on_error&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">helper_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s1"> name already in use&#39;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="SignUpUser.signup"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.SignUpUser.signup">[docs]</a>	<span class="k">def</span> <span class="nf">signup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Signup the user to the the system &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">compare_password</span><span class="p">()</span>
		<span class="kn">from</span> <span class="nn">tools</span> <span class="kn">import</span> <span class="n">SignUp</span>

		<span class="n">user</span> <span class="o">=</span> <span class="n">SignUp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
		<span class="n">user</span><span class="o">.</span><span class="n">create_user</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">user</span><span class="p">:</span>
			<span class="n">notify_banner</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;welcome </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">CustomSnackbar</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Failed&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">()</span><span class="c1">#</span></div>
	<span class="k">def</span> <span class="nf">_on_keyboard_down</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">keyboard</span><span class="p">,</span> <span class="n">keycode</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat_password</span><span class="o">.</span><span class="n">focus</span> <span class="ow">and</span> <span class="n">keycode</span> <span class="o">==</span> <span class="mi">40</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">signup</span><span class="p">()</span></div>



<div class="viewcode-block" id="EposApp"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp">[docs]</a><span class="k">class</span> <span class="nc">EposApp</span><span class="p">(</span><span class="n">MDApp</span><span class="p">):</span>
	<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Electronic Point Of Sale (EPOS)&#39;</span>
	<span class="n">user</span> <span class="o">=</span> <span class="n">BooleanProperty</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
	<span class="n">data_dir</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span><span class="o">.</span><span class="n">user_data_dir</span>
	<span class="n">store</span> <span class="o">=</span> <span class="n">JsonStore</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s1">&#39;storage.json&#39;</span><span class="p">))</span>
	<span class="n">username</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
	<span class="n">logged_in_timestamp</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="EposApp.build"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.build">[docs]</a>	<span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">font_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;fonts&#39;</span><span class="p">)</span>
		<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;IPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span><span class="s1">&#39;Poppins-Italic.ttf&#39;</span><span class="p">))</span>
		<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;BPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span> <span class="s1">&#39;Poppins-Bold.ttf&#39;</span><span class="p">))</span>
		<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;EBPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span> <span class="s1">&#39;Poppins-ExtraBold.ttf&#39;</span><span class="p">))</span>
		<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TIPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span> <span class="s1">&#39;Poppins-ThinItalic.ttf&#39;</span><span class="p">))</span>
	
		<span class="k">return</span> <span class="n">Builder</span><span class="o">.</span><span class="n">load_string</span><span class="p">(</span><span class="n">kv</span><span class="p">)</span></div>

<div class="viewcode-block" id="EposApp.on_start"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.on_start">[docs]</a>	<span class="k">def</span> <span class="nf">on_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; perform a preprocessor on start &#39;&#39;&#39;</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">		self.root.ids.datatable = MDDataTable()</span>
<span class="sd">		self.root.ids.datatable.column_data = self.root.column_data()</span>
<span class="sd">		self.root.ids.datatable.row_data = self.root.row_data()</span>
<span class="sd">		&#39;&#39;&#39;</span>
		<span class="kn">from</span> <span class="nn">kivymd.color_definitions</span> <span class="kn">import</span> <span class="n">colors</span>
		

		<span class="bp">self</span><span class="o">.</span><span class="n">theme_cls</span><span class="o">.</span><span class="n">primary_palette</span> <span class="o">=</span> <span class="s1">&#39;Orange&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">theme_cls</span><span class="o">.</span><span class="n">theme_style</span> <span class="o">=</span> <span class="s2">&quot;Dark&quot;</span>
		<span class="kn">from</span> <span class="nn">.tools</span> <span class="kn">import</span> <span class="n">users</span>

		<span class="k">if</span> <span class="n">users</span><span class="p">():</span>
			<span class="c1">#this is not a new sign in </span>
			<span class="c1">#perform a background login for the direct storage</span>
			<span class="k">try</span><span class="p">:</span> 
				<span class="n">username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;credentials&#39;</span><span class="p">)[</span><span class="s1">&#39;username&#39;</span><span class="p">]</span>
				<span class="n">password</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;credentials&#39;</span><span class="p">)[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;home&#39;</span>
			<span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
				<span class="c1">#user did not set persistences </span>
				<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;login&#39;</span>


		<span class="k">else</span><span class="p">:</span>
			<span class="c1">#load an onboarding before start</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;onboarding&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">menu_items</span> <span class="o">=</span><span class="p">[</span> 
						<span class="p">{</span>
						<span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="s1">&#39;USER&#39;</span><span class="p">,</span>
						<span class="s2">&quot;source&quot;</span><span class="p">:</span><span class="n">face_path_png</span><span class="p">,</span>
						<span class="s2">&quot;secondary_text&quot;</span><span class="p">:</span><span class="s1">&#39;SIGN IN&#39;</span><span class="p">,</span>
						<span class="s2">&quot;timestamp&quot;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">logged_in_timestamp</span><span class="p">,</span>
						<span class="s2">&quot;viewclass&quot;</span><span class="p">:</span> <span class="s2">&quot;TwoLineAvatar&quot;</span><span class="p">,</span>
						<span class="s2">&quot;on_release&quot;</span><span class="p">:</span><span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">got_to_login</span><span class="p">(),</span>
						<span class="p">},</span>
						<span class="p">{</span>
						<span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
						<span class="s2">&quot;source&quot;</span><span class="p">:</span><span class="n">face_path_png</span><span class="p">,</span>
						<span class="s2">&quot;secondary_text&quot;</span><span class="p">:</span><span class="s1">&#39;SIGN OUT&#39;</span><span class="p">,</span>
						<span class="s2">&quot;timestamp&quot;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">logged_in_timestamp</span><span class="p">,</span>
						<span class="s2">&quot;viewclass&quot;</span><span class="p">:</span> <span class="s2">&quot;TwoLineAvatar&quot;</span><span class="p">,</span>
						<span class="s2">&quot;on_release&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">logout_callback</span><span class="p">(),</span>
						<span class="p">},</span>

						<span class="p">]</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">dropdown</span> <span class="o">=</span> <span class="n">MDDropdownMenu</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_items</span><span class="p">,</span> <span class="n">width_mult</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></div>
<div class="viewcode-block" id="EposApp.got_to_login"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.got_to_login">[docs]</a>	<span class="k">def</span> <span class="nf">got_to_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;login&#39;</span></div>

<div class="viewcode-block" id="EposApp.on_stop"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.on_stop">[docs]</a>	<span class="k">def</span> <span class="nf">on_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; clear all the images in the temp_image folder &#39;&#39;&#39;</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
		<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;temp_images&#39;</span><span class="p">)</span>

		<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
			<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
			<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div>


<div class="viewcode-block" id="EposApp.return_home"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.return_home">[docs]</a>	<span class="k">def</span> <span class="nf">return_home</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">transition</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;right&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;home&#39;</span></div>

<div class="viewcode-block" id="EposApp.pop_dropdownmenu"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.pop_dropdownmenu">[docs]</a>	<span class="k">def</span> <span class="nf">pop_dropdownmenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dropdown</span><span class="o">.</span><span class="n">caller</span> <span class="o">=</span> <span class="n">instance</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dropdown</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
		

<div class="viewcode-block" id="EposApp.logout_callback"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.logout_callback">[docs]</a>	<span class="k">def</span> <span class="nf">logout_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">		*the function called by the application to perform the logging out of the user </span>
<span class="sd">		&#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span></div>
		
		
<div class="viewcode-block" id="EposApp.view_items_list"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.view_items_list">[docs]</a>	<span class="k">def</span> <span class="nf">view_items_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; view the items being sold in a list &#39;&#39;&#39;</span>
		<span class="k">pass</span></div>
<div class="viewcode-block" id="EposApp.change_screen"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.change_screen">[docs]</a>	<span class="k">def</span> <span class="nf">change_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; </span>
<span class="sd">		*change the screen of the application</span>
<span class="sd">		param : instance:</span>
<span class="sd">			acts just a place holder to satisfy the object calling the method</span>
<span class="sd">			the {instance} is never user in the application</span>
<span class="sd">		&#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">notify_error</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Login Error&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Make sure your are logined</span><span class="se">\n</span><span class="s2"> if you don&#39;t hava an account contact the admin&quot;</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">transition</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;left&quot;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">navdrawer</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="EposApp.login"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.login">[docs]</a>	<span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">,</span> <span class="n">pass_word</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Login the user of the application </span>
<span class="sd">			param: username:</span>
<span class="sd">				username of the user</span>
<span class="sd">			param: password:</span>
<span class="sd">				password of the user</span>
<span class="sd">		&#39;&#39;&#39;</span>
		<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
		
		<span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">user_name</span>
		<span class="n">password</span> <span class="o">=</span> <span class="n">pass_word</span>
		<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;username:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="se">\n</span><span class="s1">password:</span><span class="si">{</span><span class="n">password</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">logintool</span> <span class="o">=</span> <span class="n">LoginUser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">logintool</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">logged_in_timestamp</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M:%S&#39;</span><span class="p">)</span> 
			<span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Welcome </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s1">&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">set_login_cookie</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;home&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">notify_error</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;ERROR SIGNIN&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Couldn&#39;t log you in</span><span class="se">\n</span><span class="s2"> makes your you have typed your username and password correctly&quot;</span><span class="p">)</span></div>
<div class="viewcode-block" id="EposApp.set_login_cookie"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.set_login_cookie">[docs]</a>	<span class="k">def</span> <span class="nf">set_login_cookie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; </span>
<span class="sd">		*store user credentials localy </span>
<span class="sd">		Enables persistent logging</span>
<span class="sd">		param: username:</span>
<span class="sd">			username of the user</span>
<span class="sd">		param: password:</span>
<span class="sd">			password of the user </span>
<span class="sd">		 &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;credentials&#39;</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span></div>

<div class="viewcode-block" id="EposApp.logout"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.logout">[docs]</a>	<span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Logs out the user of the application &#39;&#39;&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">logintool</span><span class="o">.</span><span class="n">logout</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;credentials&#39;</span><span class="p">):</span> 
			<span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;credentials&#39;</span><span class="p">)</span>
			<span class="n">notify_banner</span><span class="p">(</span><span class="s1">&#39;Logged Out&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="EposApp.notify"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.notify">[docs]</a>	<span class="k">def</span> <span class="nf">notify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; notify the user of a message  &#39;&#39;&#39;</span>
		<span class="n">dialog</span> <span class="o">=</span> <span class="n">AKAlertDialog</span><span class="p">(</span>
            <span class="n">header_icon</span><span class="o">=</span><span class="s2">&quot;bell&quot;</span><span class="p">,</span>
            <span class="n">progress_interval</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">fixed_orientation</span><span class="o">=</span><span class="s2">&quot;landscape&quot;</span><span class="p">,</span>
            <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;center_x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">},</span>
            <span class="n">dialog_radius</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">size_landscape</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;300dp&quot;</span><span class="p">,</span> <span class="s2">&quot;70dp&quot;</span><span class="p">],</span>
            <span class="n">header_font_size</span><span class="o">=</span><span class="s2">&quot;40dp&quot;</span><span class="p">,</span>
            <span class="n">header_width_landscape</span><span class="o">=</span><span class="s2">&quot;50dp&quot;</span><span class="p">,</span>
            <span class="n">progress_color</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="p">)</span>

		<span class="n">dialog</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_progress_finish</span><span class="o">=</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">)</span>
		<span class="n">content</span> <span class="o">=</span> <span class="n">Notification</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
		<span class="n">content</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">)</span>
		<span class="n">dialog</span><span class="o">.</span><span class="n">content_cls</span> <span class="o">=</span> <span class="n">content</span>
		<span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>
	

<div class="viewcode-block" id="EposApp.notify_error"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.notify_error">[docs]</a>	<span class="k">def</span> <span class="nf">notify_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">		*Notify the user of an error accompanied with a message </span>
<span class="sd">		 param: title:</span>
<span class="sd">		 	The title of the error defaults to erroe</span>
<span class="sd">		 param: message:</span>
<span class="sd">		 	detailed description of the error</span>
<span class="sd">		 returntype: None</span>
<span class="sd">		&#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="n">message</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
			<span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;An error occured while trying to process your request&#39;</span>
		<span class="n">dialog</span> <span class="o">=</span> <span class="n">AKAlertDialog</span><span class="p">(</span>
		    <span class="n">header_icon</span><span class="o">=</span><span class="s2">&quot;close-circle-outline&quot;</span><span class="p">,</span> <span class="n">header_bg</span><span class="o">=</span><span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
		<span class="p">)</span>
		<span class="n">content</span> <span class="o">=</span> <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
		<span class="n">content</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">)</span>
		<span class="n">dialog</span><span class="o">.</span><span class="n">content_cls</span> <span class="o">=</span> <span class="n">content</span>
		<span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>

<div class="viewcode-block" id="EposApp.open_drawer"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.EposApp.open_drawer">[docs]</a>	<span class="k">def</span> <span class="nf">open_drawer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&#39;&#39;&#39; Open the drawer of the application &#39;&#39;&#39;</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">navdrawer</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="s2">&quot;open&quot;</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">transition</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;right&quot;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">screen_manager</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s1">&#39;login&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">notify_error</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Login Error&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Make sure your are logined.</span><span class="se">\n</span><span class="s2"> if you don&#39;t hava an account contact the admin&quot;</span><span class="p">)</span></div></div>
<div class="viewcode-block" id="notify_banner"><a class="viewcode-back" href="../../EPOS.html#EPOS.app.notify_banner">[docs]</a><span class="k">def</span> <span class="nf">notify_banner</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
	<span class="n">dialog</span> <span class="o">=</span> <span class="n">AKAlertDialog</span><span class="p">(</span>
	    <span class="n">header_icon</span><span class="o">=</span><span class="s2">&quot;bell&quot;</span><span class="p">,</span>
	    <span class="n">progress_interval</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
	    <span class="n">fixed_orientation</span><span class="o">=</span><span class="s2">&quot;landscape&quot;</span><span class="p">,</span>
	    <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">},</span>
	    <span class="n">dialog_radius</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
	    <span class="n">opening_duration</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
	    <span class="n">size_landscape</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;350dp&quot;</span><span class="p">,</span> <span class="s2">&quot;70dp&quot;</span><span class="p">],</span>
	    <span class="n">header_width_landscape</span><span class="o">=</span><span class="s2">&quot;70dp&quot;</span><span class="p">,</span>
	<span class="p">)</span>
	<span class="n">dialog</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_progress_finish</span><span class="o">=</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">)</span>
	<span class="n">content</span> <span class="o">=</span> <span class="n">Notification</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
	<span class="n">content</span><span class="o">.</span><span class="n">ids</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_release</span><span class="o">=</span><span class="n">dialog</span><span class="o">.</span><span class="n">dismiss</span><span class="p">)</span>
	<span class="n">dialog</span><span class="o">.</span><span class="n">content_cls</span> <span class="o">=</span> <span class="n">content</span>
	<span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span></div>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
	<span class="n">font_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;fonts&#39;</span><span class="p">)</span>
	<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;IPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span><span class="s1">&#39;Poppins-Italic.ttf&#39;</span><span class="p">))</span>
	<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;BPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span> <span class="s1">&#39;Poppins-Bold.ttf&#39;</span><span class="p">))</span>
	<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;EBPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span> <span class="s1">&#39;Poppins-ExtraBold.ttf&#39;</span><span class="p">))</span>
	<span class="n">LabelBase</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TIPoppins&#39;</span><span class="p">,</span> <span class="n">fn_regular</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">font_folder</span><span class="p">,</span> <span class="s1">&#39;Poppins-ThinItalic.ttf&#39;</span><span class="p">))</span>
	<span class="n">EposApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, BOA SYSTEM
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=f6245a2f"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>